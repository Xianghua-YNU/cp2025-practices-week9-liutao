# 复数动力学 - Mandelbrot集与Julia集实验报告

## 一、实验目的

1. 掌握复数迭代生成分形的基本原理
2. 理解逃逸时间算法(Escape Time Algorithm)的实现方法
3. 实现Mandelbrot集和Julia集的生成与可视化
4. 分析不同参数对分形图形的影响

## 二、实验过程

### 1. 核心算法实现

**逃逸时间算法实现:**
- 输入：复数参数c、最大迭代次数max_iter
- 处理：通过迭代公式z = z² + c计算逃逸时间
- 输出：每个点的逃逸时间(迭代次数)

**Mandelbrot集生成器:**
- 实现复数网格生成
- 记录每个c值的逃逸时间
- 返回2D逃逸时间数组

**Julia集生成器:**
- 实现复数网格生成
- 记录每个z0值的逃逸时间(固定c值)
- 返回2D逃逸时间数组

### 2. 分形实现

**Mandelbrot集参数:**
- 坐标范围：x ∈ [-2.0, 1.0], y ∈ [-1.5, 1.5]
- 最大迭代次数：100-200次
- 分辨率：800×800像素

**Julia集参数:**
- 坐标范围：x ∈ [-2.0, 2.0], y ∈ [-2.0, 2.0]
- 测试c值：-0.8+0.156j, -0.4+0.6j, 0.285+0.01j
- 最大迭代次数：100-200次
- 分辨率：800×800像素

### 3. 遇到的问题与解决
1. 计算速度慢
问题描述：当 width、height 或者 max_iter 设置得比较大时，函数的计算时间会显著增加，因为它们需要对大量的点进行多次迭代计算。
解决方法
优化代码：当前代码已经使用了 numpy 的向量化操作，这本身已经对计算速度进行了优化。如果还需要进一步提升速度，可以考虑使用并行计算库，如 multiprocessing 或 numba 进行加速。
2. 内存不足
问题描述：如果 width 和 height 设置得过大，生成的二维数组 C、Z 和 B 会占用大量的内存，可能导致内存不足的错误。
解决方法
分块计算：将整个区域分成多个小块，分别计算每个小块的分形数据，然后再合并。
3. 图像显示异常
问题描述：图像可能显示不完整、颜色异常或者坐标轴显示不正确。
解决方法
检查 cmap 参数：确保 cmap 参数设置正确，使用合法的颜色映射名称，如 'viridis'、'plasma' 等。
检查 origin 参数：确保 origin 参数设置符合需求，'lower' 表示原点在左下角，'upper' 表示原点在左上角。
检查数据转置：确保在 plot_fractal 函数中使用 data.T 进行转置是正确的，以保证图像的坐标轴方向与预期一致。
4. 图像保存失败
问题描述：调用 plt.savefig 函数时，可能会出现保存失败的情况，如文件路径不存在、权限不足等。
解决方法
检查文件路径：确保保存文件的路径存在，并且有写入权限。可以使用 os.makedirs 函数创建目录。
检查文件名：确保文件名合法，不包含特殊字符。
5. 代码运行环境问题
问题描述：在某些环境中，可能会出现 numpy 或 matplotlib 库无法正常导入的问题。
解决方法
检查库的安装：确保 numpy 和 matplotlib 库已经正确安装。可以使用 pip install numpy matplotlib 命令进行安装。
检查 Python 版本：确保使用的 Python 版本与 numpy 和 matplotlib 库兼容。
(请在此描述实现过程中遇到的问题及解决方法)

## 三、结果展示

### 1. Mandelbrot集
[![Mandelbrot Set](https://github.com/user-attachments/assets/212e5f71-f5e8-4793-b51e-900cb4a2ab6d)
]
- 迭代次数对图像细节的影响
- 自相似性特征分析

### 2. Julia集 
[![julie set-0 80](https://github.com/user-attachments/assets/ca0011e2-7104-4d87-8e0a-ec5785a3d21d)
![juliaset-0 400](https://github.com/user-attachments/assets/dc3dd0d2-e7c8-4788-81a0-ed1c80df726b)
![juliaset0 285](https://github.com/user-attachments/assets/2283961e-8d26-49ee-9d19-a3c1b0cc018a)
]
- 不同c值对Julia集形态的影响
- 迭代次数与计算时间的关系

## 四、分析与思考

1. **分形特性分析**
   - Mandelbrot集与Julia集的数学关系
   - 逃逸半径的选择对结果的影响

2. **参数影响实验**
   - 不同max_iter值的效果对比
   - 分辨率与计算复杂度的关系

3. **扩展思考**
   - 如何实现平滑着色算法
   - 分形放大功能的实现思路
   - 与L系统分形的比较

4. **算法优化**
   - 向量化计算的优化效果
   - 并行计算的可能性

**注：请在每一部分补充您的实验内容、图像、分析和关键代码。**
